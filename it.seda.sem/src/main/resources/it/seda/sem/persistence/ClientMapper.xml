<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="it.seda.sem.persistence.ClientMapper">

	
 	 <!-- TABELLA CLIENTE --> 
 	 
	<resultMap id="cliente" type="Cliente">
		<id property="id" column="id" />
		<result property="nome" column="nome" />
		<result property="descrizione" column="descrizione" />
		<result property="registrazione" column="regitrazione" />	
	</resultMap>
	
	<insert id="insertClient" parameterType="Cliente">
	  INSERT INTO CLIENTE
	  (regitrazione,descrizione,nome)
	  VALUES
	  (CURRENT TIMESTAMP,#{descrizione},#{nome})
	</insert>
	
	<update id="updateClient" parameterType="Cliente">
	  UPDATE CLIENTE
       SET regitrazione=#{registrazione},descrizione=#{descrizione},nome=#{nome}
       WHERE id=#{id}
	</update>
	
	<delete id="deleteClient" parameterType="java.math.BigInteger">
	   DELETE FROM CLIENTE
	     WHERE id = #{id}   
	</delete>
	
	<select id="getClient" parameterType="java.math.BigInteger" resultMap="cliente">
	   SELECT regitrazione,descrizione,nome,id
	   FROM CLIENTE
	   WHERE id=#{id}
	</select>
	
	<select id="listClientCount"  resultType="int">
	   SELECT COUNT(REGITRAZIONE)
	   FROM CLIENTE
	</select>
	
	<select id="listClient"  resultMap="cliente">
	   SELECT regitrazione,descrizione,nome,id
	   FROM CLIENTE
	   ORDER BY CLIENTE.REGITRAZIONE,CLIENTE.ID
	</select>
	
</mapper>